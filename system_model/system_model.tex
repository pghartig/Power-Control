
\documentclass[12pt]{article}
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
%\usepackage{scribe}
\usepackage{listings}
\usepackage{amssymb}
\usepackage{amsmath}




\begin{document}


\section{Game and System Setup}

This game considers a wireless communications network which includes a both macro cell and femto cell users.

\subsection{Players}

%Individual femto cells are the players in this game.
Here each player  $f \in \{1 ... F\}$ is considered to have a number of antennas $T_f$ with which to transmit to $K_f$ femto cell users.
\\

In this setting femto cells are assumed to be spaced far apart in distance permitting the simplification that 
femto cell $f$ cause no interference to the users of femto cell $j \in \{1 ... F\}\backslash f$
\\


Femto base stations with multiple antennas can beamform their transmission with transformation $\mathbf{U_f} \in \mathbb{C}_{T_f \times K_f}$.
\\

Femto base station $f$ has power constraint  $\sum^{K_f}_{i=1} p_{f,i} \leq P^{Total}_{f} $. 
\\

Femto base stations are assumed to have a utility function $U_f()$ based upon the quality of service provided to its users.
\\

Macro Cell user $m \in \{1 ... M\}$ experiences receiver interference to due transmission by  femto cell base stations. These macro cell users have limits to the amount of interference they will tolerate 
$\sum^F_{f=1} \mathbf{p}_f^t \mathbf{\tilde{h_m^T}}  \mathbf{U_f}  \leq I^{Threshold}_{m} $.
\\

Femto base station $f$ is assumed to have full channel information ($\mathbf{H_f}$) for all user  with which it transmits. The received signal for user $j$ of femto base station $f$ experiences the inner product of $\mathbf{h^H_{fj}u_{fj}}$
\\


Femto cell $f$ is assumed to have full channel information ($\tilde{H_f}$) for all user with which it interferes .
\\


Users of femto cell $f$ have SINR 


\begin{equation}
\gamma_{f,i} = \frac{p_{f,i}|\mathbf{h^H_{fi}u_{fi}}|^2}
{\sigma^2_{n}  + \sum_{\tilde{f}\neq f} \sum_{u=1}^{K_{\tilde{f}}} + \sum_{\tilde{k}\neq i}} \; i \in \{1 ... K_f\}
\end{equation}
\\
with AWGN $\sim \mathcal{N}(0,\sigma^2_n)$
\\

Assuming sufficient base station spacing this becomes 
\begin{equation}
\gamma_{f,i} = \frac{p_{f,i}|\mathbf{h^H_{fi}u_{fi}}|^2}{\sigma^2_{n}  +  \sum_{\tilde{k}\neq i}} \; i \in \{1 ... K_f\}
\end{equation}
\\

This further simplifies assuming that users use a zero-forcing beam-former

\begin{equation}
\gamma_{f,i} = \frac{p_{f,i}|\mathbf{h^H_{fi}u_{fi}}|^2}{\sigma^2_{n} }
\end{equation}
\\

TODO Decide if there should be minimum rate constraints for users
\\

TODO Try setting the individual user utilities as the capacities then working back to the single covariance matrix from the transmit signal SINR (might be better than optimizing a vector and a matrix)

\subsection{Scenarios}

\subsubsection{Case: $T_f \geq M + K_f$}
Base Stations could potentially zero-beam-form towards all macro users. However, as base stations have power constraints, it may be beneficial to cause certain amounts of interference. 

\subsubsection{Case: $K_f \leq T_f < M + K_f$}
Base Stations can send unique signals to all users but does not have sufficient DOF to zero-beam-form for all macro users.


\subsection{General Optimization Problem}

Each player $f$ attempts to maximize utility function $U_f()$ while playing a strategy that falls in the region constrained by the interference limits imposed by the macro cell users.

The player optimization problem can be written as:
\\

\begin{gather*} 
argmax_{\mathbf{U_f,\mathbf{p}_f}} U_f() 
\\
s.t. \sum^F_{f=1} \mathbf{p}_f^t \mathbf{\tilde{h_m^T}}  \mathbf{U_f}  \leq I^{Threshold}_{m} 
\\
\mathbf{H_f^H}\mathbf{U_f} = \mathbf{I_{K_f}}
\end{gather*}
\\

Alternatively the optimization problem can be written as:
\\
\begin{gather} 
argmax_{\mathbf{U_f}} U_f()\label{utility}
\\
s.t \; \sum^F_{f=1} \mathbf{p}_f^t \mathbf{\tilde{h_m^T}}  \mathbf{U_f}  \leq I^{Threshold}_{m} \label{interference_contstraint}
\\
trace(\mathbf{U_f^H}\mathbf{U_f}) \leq P^{Total}_{f} \label{power_constraint}
\\
\mathbf{H_f^H}\mathbf{U_f} = \mathbf{I_{K_f}}\label{Zero_Forcing}
\end{gather}
\\


\section{Solving the game}
\subsection{Player Utility Functions}

For now, say $U_f() $ is the sum of all capacities for all of it's end user links. 
\begin{displaymath}
U_f(\mathbf{U_f}) = \sum^{K_f}_{i=1} log(1+\gamma_{f,i})
\end{displaymath}

\subsection{Simplification of problem}

Show: Function is convex in $U_f$, constraints are convex
\\
\begin{itemize}
\item\eqref{utility} is convex as there is no interference and SINR increases with square of absolute value

\item\eqref{interference_contstraint} contains $M$ affine constraints on $\mathbf{U_f}$

\item\eqref{power_constraint} As Trace is square of frobenious norm and squaring a convex function (e.g any true Norm) preserves convexity.
Need to work on proof but this should be convex.

\item\eqref{Zero_Forcing} This is a set of linear equations defining $\mathbf{U_f}$ which is an affine set.

\end{itemize}

Show: Users now have a convex problem to solve individually.

Show: given the above setup, NNE can be found in distributed manner


\end{document}