
\documentclass[12pt]{article}
\usepackage[english]{babel}
%\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
%\usepackage{scribe}
\usepackage{listings}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{biblatex} % 

\addbibresource{system_model_bib.bib}
\newtheorem{theorem}{Theorem}


\begin{document}


\section{Game and System Setup}

This game considers a wireless communications network which includes a both macro cell and femto cell users.

\subsection{Game elements}
\subsubsection{Players: Femto Cell Base Stations}


Individual femto cell base stations (FC-BS) are the players of this game.
\\
Femtro Cells are characterized by the following parameters
\begin{itemize}
\item Each FC-BS  $f \in \{1 ... F\}$ is considered to have a number of antennas $T_f$ with which to transmit to $K_f$ femto cell users.
\\
\item FC-BS are assumed to be spaced far apart in distance. Therefore, FC-BS $f$ cause no interference to the users of FC-BS $j \in \{1 ... F\}\backslash f$
\\
\item FC-BSs with multiple antennas can beamform their transmission with transformation $\mathbf{U_f} \in \mathbb{C}_{T_f \times K_f}$.
\\
\item 
FC-BS $f$ has power constraint  $trace(\mathbf{U_f^H}\mathbf{U_f}) \leq P^{Total}_{f} $. +

\item 
TODO (Discuss Reasonable functions) FC-BSs are assumed to have a utility function $U_f()$ based upon the quality of service provided to its users.
\\
\item TODO(Incomplete CSI?) FC-BS $f$ is assumed to have full channel information ($\mathbf{H_f}$) for all user  with which it transmits.
\\
\end{itemize}









\subsubsection{Players: Macro Cell Users}

\begin{itemize}
\item 
TODO (Should this be in terms of a power? if so, correct constraint) 
Macro Cell user $m \in \{1 ... M\}$ experiences receiver interference to due transmission by FC-BSs. These macro cell users have limits to the amount of interference they will tolerate 
$\sum^F_{f=1} \mathbf{\tilde{h_{m,f}^T}}  \mathbf{U_f}  \mathbf{U_f^H} \mathbf{\tilde{h_{m,f}^*}} \leq I^{Threshold}_{m} $.

\item Femto cell $f$ is assumed to have full channel information ($\tilde{H_f}$) for all user with which it interferes .
\\
\end{itemize}


\subsubsection{Players: Femtro Cell Users}
\begin{itemize}


\item TODO Decide if there should be minimum rate constraints for femto cell users
\\

\item Users of FC-BS $f$ have SINR:
\begin{equation}
\gamma_{f,i} = \frac{p_{f,i}|\mathbf{h^H_{fi}u_{fi}}|^2}
{\sigma^2_{n}  + \sum_{\tilde{f}\neq f} \sum_{u=1}^{K_{\tilde{f}}}
|\mathbf{h^H_{\tilde{f}u}u_{fi}}|^2
 + \sum_{\tilde{k}\neq i}
  |\mathbf{h^H_{f\tilde{k}}u_{f\tilde{k}}}|^2}
  \; i \in \{1 ... K_f\}
\end{equation}
\\
with AWGN $\sim \mathcal{N}(0,\sigma^2_n)$
\\

Assuming sufficient FC-BS spacing this becomes 
\begin{equation}
\gamma_{f,i} = \frac{p_{f,i}|\mathbf{h^H_{fi}u_{fi}}|^2}{\sigma^2_{n}   + \sum_{\tilde{k}\neq i}
  |\mathbf{h^H_{f\tilde{k}}u_{f\tilde{k}}}|^2} \; i \in \{1 ... K_f\}
\end{equation}
\\

This further simplifies assuming that users use a zero-forcing beam-former

\begin{equation}
\gamma_{f,i} = \frac{p_{f,i}|\mathbf{h^H_{fi}u_{fi}}|^2}{\sigma^2_{n} }
\end{equation}
\\

\item TODO Remove power term from above terms
\\

\end{itemize}


\subsection{Variations of Game Setup}

\subsubsection{Case: $T_f \geq M + K_f$}
FC-BSs could potentially zero-beam-form towards all macro users. However, as base stations have power constraints, it may be beneficial to cause certain amounts of interference. 

\subsubsection{Case: $K_f \leq T_f < M + K_f$}
FC-BSs can send unique signals to all users but does not have sufficient DOF to zero-beam-form for all macro users.


\subsection{General Optimization Problem}

Each player $f$ attempts to maximize utility function $U_f()$ while playing a strategy that falls in the region constrained by the interference limits imposed by the macro cell users.
\\

The player optimization problem can be written as:

\begin{gather*} 
argmax_{\mathbf{U_f,\mathbf{p}_f}} U_f() 
\\
s.t. \sum^F_{f=1} \mathbf{p}_f^t \mathbf{\tilde{h_m^T}}  \mathbf{U_f}  \leq I^{Threshold}_{m} 
\\
\mathbf{H_f^H}\mathbf{U_f} = \mathbf{I_{K_f}}
\end{gather*}
\\

Alternatively the optimization problem can be written as:
\\

\begin{gather} 
argmax_{\mathbf{U_f}} U_f()\label{utility}
\\
s.t \; \sum^F_{f=1} \mathbf{\tilde{h_m^T}}  \mathbf{U_f}  \leq I^{Threshold}_{m} \label{interference_contstraint}
\\
trace(\mathbf{U_f^H}\mathbf{U_f}) \leq P^{Total}_{f} \label{power_constraint}
\\
\langle \mathbf{h_{f,j}}\mathbf{u_{f,i}} \rangle =0\ \; \forall j \in \{1 ... K_f\}\backslash i \;\; \forall i \in \{1 ... K_f\} \label{Zero_Forcing}
\end{gather}
\\


\section{Solving the Game}
\subsection{Player Utility Functions}

Say $U_f() $ is the sum of all capacities for femto cell users of FC-BS $f$ 
\begin{displaymath}
U_f(\mathbf{U_f}) = \sum^{K_f}_{i=1} log(1+\gamma_{f,i})
\end{displaymath}

\subsection{Show Convexity of Player Optimization Problem}

Conditions for Convex Problem:

\begin{enumerate}
\item Function is convex in argument 
\begin{itemize}
\item\eqref{utility} is concave as there is no interference and log() is concave is the argument (SINR). SINR increases with square of absolute value. (The resulting function has a negative second derivative)

\end{itemize}

\item Constraints  form convex, closed and bounded set. TODO show closed and boundedness of set

\begin{itemize}

\item\eqref{interference_contstraint} contains $M$ affine constraints on $\mathbf{U_f}$

\item\eqref{power_constraint} As Trace is square of Frobenious norm and squaring a convex function (e.g any true Norm) preserves convexity.
Need to work on proof but this should be convex.

\item\eqref{Zero_Forcing} This is a set of linear equations defining $\mathbf{U_f}$ which is an affine set. The intersection of this set is convex.

\end{itemize}
\end{enumerate}

\subsection{Finding Nash Equilibrium}

Show: Users now have a convex problem to solve individually.

Show: given the above setup, NNE can be found in distributed manner


\begin{enumerate}
\item \textbf{Existence of NE:} Assuming above points on concavity, this is an n-person concave game and therefor a NE exists
\item \textbf{Uniqueness of NE:} Diagonally Strict concavity is a sufficient condition for uniqueness of NNE in n-person concave game
\begin{itemize}
\item\eqref{utility} has negative second derivative w.r.t the argument and contains no intra-cell interference and therefore is negative definite. Which is sufficient for being diagonally strictly concave
\cite[Thm6]{rosen1964existence} ( Thm 6)

\end{itemize}

\end{enumerate}

\subsection{Setup as a Potential Game}
Assuming the NE is unique and the game admits a potential function $\Phi()$ then the solution to the potential function will be the unique NE of the original game if the potential function is also concave. 
The sum of the utility functions admits one such potential function and since the individual utility functions are independent of one another and they are individually concave, the resulting potential function will also be concave. 
\\
\begin{theorem}\label{distributed}
If a game's potential function is strictly concave and the derivative of the function wrt to the individual players variables are independent of the other player variables, then there exists a distributed solution.
%\\\cite[~algodist]{ghosh2015normalized}
\end{theorem}


Proposed potential function

\begin{gather*} 
\Phi() = \sum_{f = 1}^{F} U_f() 
\end{gather*}


It can be verified that this satisfies the gradient condition of potential functions and is also strictly concave. Therefore, this satisfies the conditions for \ref{distributed}.



\subsection{Distributed Solution to the Game}


\end{document}
